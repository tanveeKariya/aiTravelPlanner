import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate travel plan for Location: Mumbai for 3 Days for a Couple with a Cheap Budget. Give me a Hotels options list with Hotel Name, Hotel Address, Price, Hotel image url, geo coordinates, rating, descriptions and suggest itinerary, with placeName, place details, place image url, geo coordinatesticket Pricing, rating, Time travel each of location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"name\": \"The Fern Residency, Mumbai\",\n      \"address\": \"Plot No. 2, LBS Marg, Near Mithi River, Near Andheri East, Mumbai, Maharashtra 400069\",\n      \"price\": \"₹2,500 - ₹4,000 per night\",\n      \"imageUrl\": \"https://www.thefernhotels.com/images/hotels/fern-residency-mumbai/exterior-day.jpg\",\n      \"geoCoordinates\": \"19.0842, 72.8772\",\n      \"rating\": 4.0,\n      \"description\": \"A modern hotel with comfortable rooms, a rooftop pool, and a restaurant. Located in a convenient location near the airport and the city center.\"\n    },\n    {\n      \"name\": \"Treebo Trend The Grand View\",\n      \"address\": \"701, 7th Floor, S.V. Road, Near D.N. Nagar Metro Station, Andheri West, Mumbai, Maharashtra 400053\",\n      \"price\": \"₹1,500 - ₹2,500 per night\",\n      \"imageUrl\": \"https://images.treebo.com/uploads/hotels/images/4769/1679131661.jpg\",\n      \"geoCoordinates\": \"19.1031, 72.8436\",\n      \"rating\": 3.5,\n      \"description\": \"A budget-friendly hotel with clean and comfortable rooms. It offers a complimentary breakfast and is located near the D.N. Nagar Metro Station.\"\n    },\n    {\n      \"name\": \"Hotel Kohinoor Continental\",\n      \"address\": \"140/141, Dr. Annie Besant Road, Worli, Mumbai, Maharashtra 400018\",\n      \"price\": \"₹1,000 - ₹2,000 per night\",\n      \"imageUrl\": \"https://www.hotelkohinoorcontinental.com/images/gallery/exterior.jpg\",\n      \"geoCoordinates\": \"18.9936, 72.8253\",\n      \"rating\": 3.0,\n      \"description\": \"A simple and affordable hotel with basic amenities. It is conveniently located near the Worli Sea Face.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"Gateway of India\",\n          \"placeDetails\": \"A historic arch built in 1924, marking the entrance to the harbor. Enjoy the stunning views of the Arabian Sea and the iconic Taj Mahal Palace Hotel.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Gateway_of_India.jpg/1280px-Gateway_of_India.jpg\",\n          \"geoCoordinates\": \"18.9220, 72.8347\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"1 hour\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 2:00 PM)\",\n          \"placeName\": \"Elephanta Caves\",\n          \"placeDetails\": \"A UNESCO World Heritage Site, featuring intricate rock-cut cave temples dedicated to Lord Shiva. Take a ferry from the Gateway of India to reach the caves.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Elephanta_Caves_%283%29.jpg/1280px-Elephanta_Caves_%283%29.jpg\",\n          \"geoCoordinates\": \"18.9782, 72.9994\",\n          \"ticketPricing\": \"₹25 per person (Indian Nationals)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1.5 hours (ferry ride)\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM - 8:00 PM)\",\n          \"placeName\": \"Marine Drive\",\n          \"placeDetails\": \"A scenic promenade known as the \\\"Queen's Necklace\\\" due to its glittering lights at night. Take a stroll along the coast and enjoy the refreshing breeze.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Marine_Drive_from_the_top_of_the_Nariman_Point_Mumbai.jpg/1280px-Marine_Drive_from_the_top_of_the_Nariman_Point_Mumbai.jpg\",\n          \"geoCoordinates\": \"18.9344, 72.8276\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"30 minutes\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"Chhatrapati Shivaji Maharaj Terminus (CST)\",\n          \"placeDetails\": \"A UNESCO World Heritage Site and a magnificent Victorian-era railway station. Marvel at its architectural grandeur and learn about its history.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Chhatrapati_Shivaji_Terminus.jpg/1280px-Chhatrapati_Shivaji_Terminus.jpg\",\n          \"geoCoordinates\": \"18.9429, 72.8347\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"1 hour\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 2:00 PM)\",\n          \"placeName\": \"Dhobi Ghat\",\n          \"placeDetails\": \"A unique open-air laundry where thousands of clothes are washed every day. It's a fascinating sight and a glimpse into Mumbai's daily life.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Dhobi_Ghat_Mumbai_1.jpg/1280px-Dhobi_Ghat_Mumbai_1.jpg\",\n          \"geoCoordinates\": \"18.9530, 72.8265\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 3.5,\n          \"timeTravel\": \"30 minutes\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM - 8:00 PM)\",\n          \"placeName\": \"Juhu Beach\",\n          \"placeDetails\": \"A popular beach known for its street food stalls, sunsets, and lively atmosphere. Enjoy the beachside ambiance and savor delicious snacks.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Juhu_Beach_Mumbai_India_20151024_171432.jpg/1280px-Juhu_Beach_Mumbai_India_20151024_171432.jpg\",\n          \"geoCoordinates\": \"19.0722, 72.8538\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1 hour\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"Kanheri Caves\",\n          \"placeDetails\": \"Ancient Buddhist cave temples located within the Sanjay Gandhi National Park. Explore the intricate carvings and enjoy the serene surroundings.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Kanheri_Caves_%283%29.jpg/1280px-Kanheri_Caves_%283%29.jpg\",\n          \"geoCoordinates\": \"19.1666, 72.9161\",\n          \"ticketPricing\": \"₹15 per person (Indian Nationals)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 2:00 PM)\",\n          \"placeName\": \"Mani Bhavan\",\n          \"placeDetails\": \"The former residence of Mahatma Gandhi in Mumbai. Visit the house where Gandhiji lived and learn about his life and work.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Mani_Bhavan_exterior.jpg/1280px-Mani_Bhavan_exterior.jpg\",\n          \"geoCoordinates\": \"18.9550, 72.8319\",\n          \"ticketPricing\": \"₹10 per person (Indian Nationals)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1 hour\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM - 8:00 PM)\",\n          \"placeName\": \"Chowpatty Beach\",\n          \"placeDetails\": \"A popular beach known for its lively atmosphere, street food, and evening strolls. Enjoy the sunset views and the vibrant street culture.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Chowpatty_Beach_Mumbai_02.jpg/1280px-Chowpatty_Beach_Mumbai_02.jpg\",\n          \"geoCoordinates\": \"18.9444, 72.8237\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": 3.5,\n          \"timeTravel\": \"30 minutes\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation of the JSON Data:**\n\n* **hotelOptions**: This section lists the hotel options with their respective details like name, address, price, image URL, geo-coordinates, rating, and a brief description. \n* **itinerary**: This section outlines the 3-day itinerary for the couple. \n    * **Day:**  Each day is separated.\n    * **plan**:  This section details the activities planned for each day.\n        * **time**:  The time of day when the activity will take place.\n        * **placeName**: The name of the place to be visited.\n        * **placeDetails**: A brief description of the place.\n        * **placeImageUrl**: The URL of an image representing the place.\n        * **geoCoordinates**: The geographical coordinates of the place.\n        * **ticketPricing**: The cost of entry to the place (if applicable).\n        * **rating**: A rating of the place based on reviews.\n        * **timeTravel**: The estimated time to travel to the place. \n\n**Notes:**\n\n* This itinerary provides a general plan, and you can adjust it based on your interests and time constraints.\n* The prices mentioned for hotels are indicative and can vary depending on the season and availability.\n* You can use the provided image URLs to get a visual idea of the places.\n* The geo-coordinates can be used for navigation purposes.\n* Be sure to check the opening hours and ticket prices before visiting any of the places.\n\n**Tips for a Cheap Budget Trip:**\n\n* **Travel during the off-season:** Prices for flights, hotels, and other services are often lower during the off-season (typically during the monsoon months of June to September).\n* **Choose budget-friendly accommodation options:** Consider staying in guesthouses, hostels, or budget hotels.\n* **Eat local food:** Mumbai offers a wide variety of affordable street food and local restaurants.\n* **Utilize public transportation:** Mumbai has a well-developed public transport system, including buses, trains, and taxis. \n* **Explore free activities:** Many attractions in Mumbai, such as beaches, parks, and historical monuments, are free to enter.\n* **Pack light:** Avoid checked baggage fees by packing only the essentials.\n* **Look for deals and discounts:** Check online travel websites and local publications for deals and discounts on flights, hotels, and attractions. \n"},
          ],
        },
      ],
    });